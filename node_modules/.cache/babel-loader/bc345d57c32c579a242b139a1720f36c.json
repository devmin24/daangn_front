{"ast":null,"code":"import _defineProperty from\"/Users/parkminkyung/sparta_react/daangnmarket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";var _handleActions;import{createAction,handleActions}from\"redux-actions\";import{produce}from\"immer\";import axios from\"axios\";var SET_POST=\"SET_POST\";var ADD_POST=\"ADD_POST\";var setPost=createAction(SET_POST,function(post_list){return{post_list:post_list};});//리스트가져오기\nvar addPost=createAction(ADD_POST,function(post){return{post:post};});var initialState={list:[]};var initialPost={id:0,title:\"실내 자전거\",img:\"https://dnvefa72aowie.cloudfront.net/origin/article/202104/bce02f7c25d41ea2f758c3322de4596b9768b7fc8822ed6ab1a184fd232c50ce.webp?q=82&s=300x300&t=crop\",price:\"10,000원\",region:\"경기도 용인시 수지구 죽전동\",like:\"관심:3\",chat:\"채팅:5\"};var getPostDB=function getPostDB(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";return function(dispatch,getState,_ref){var history=_ref.history;var post_list=[];if(text===\"\"){axios({method:\"get\",url:\"http://54.180.112.53:8080/api/hot_articles\"}).then(function(docs){// docs=api를 가져온 값\nconsole.log(docs.data);var post_list=docs.data;console.log(post_list);dispatch(setPost(post_list));});}else{axios({method:\"get\",url:\"http://54.180.112.53:8080/api/region/\".concat(text)}).then(function(docs){// docs=api를 가져온 값\nconsole.log(docs.data);var post_list=docs.data;console.log(post_list);dispatch(setPost(post_list));});}};};export default handleActions((_handleActions={},_defineProperty(_handleActions,SET_POST,function(state,action){return produce(state,function(draft){draft.list=action.payload.post_list;//콘솔 찍어보기, 병훈님께 물어보기\n});}),_defineProperty(_handleActions,ADD_POST,function(state,action){return produce(state,function(draft){});}),_handleActions),initialState);var actionCreators={setPost:setPost,addPost:addPost,getPostDB:getPostDB};export{actionCreators};","map":{"version":3,"sources":["/Users/parkminkyung/sparta_react/daangnmarket/src/redux/modules/post.js"],"names":["createAction","handleActions","produce","axios","SET_POST","ADD_POST","setPost","post_list","addPost","post","initialState","list","initialPost","id","title","img","price","region","like","chat","getPostDB","text","dispatch","getState","history","method","url","then","docs","console","log","data","state","action","draft","payload","actionCreators"],"mappings":"yLAAA,OAASA,YAAT,CAAuBC,aAAvB,KAA4C,eAA5C,CACA,OAASC,OAAT,KAAwB,OAAxB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,UAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAG,UAAjB,CAEA,GAAMC,CAAAA,OAAO,CAAGN,YAAY,CAACI,QAAD,CAAW,SAACG,SAAD,QAAgB,CAAEA,SAAS,CAATA,SAAF,CAAhB,EAAX,CAA5B,CAAwE;AACxE,GAAMC,CAAAA,OAAO,CAAGR,YAAY,CAACK,QAAD,CAAW,SAACI,IAAD,QAAW,CAAEA,IAAI,CAAJA,IAAF,CAAX,EAAX,CAA5B,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAArB,CAIA,GAAMC,CAAAA,WAAW,CAAG,CAClBC,EAAE,CAAE,CADc,CAElBC,KAAK,CAAE,QAFW,CAGlBC,GAAG,CACD,wJAJgB,CAKlBC,KAAK,CAAE,SALW,CAMlBC,MAAM,CAAE,iBANU,CAOlBC,IAAI,CAAE,MAPY,CAQlBC,IAAI,CAAE,MARY,CAApB,CAWA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAe,IAAdC,CAAAA,IAAc,2DAAP,EAAO,CAC/B,MAAO,UAAUC,QAAV,CAAoBC,QAApB,MAA2C,IAAXC,CAAAA,OAAW,MAAXA,OAAW,CAChD,GAAIjB,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIc,IAAI,GAAK,EAAb,CAAiB,CACflB,KAAK,CAAC,CACJsB,MAAM,CAAE,KADJ,CAEJC,GAAG,CAAE,4CAFD,CAAD,CAAL,CAGGC,IAHH,CAGQ,SAACC,IAAD,CAAU,CAChB;AACAC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB,EACA,GAAMxB,CAAAA,SAAS,CAAGqB,IAAI,CAACG,IAAvB,CACAF,OAAO,CAACC,GAAR,CAAYvB,SAAZ,EAEAe,QAAQ,CAAChB,OAAO,CAACC,SAAD,CAAR,CAAR,CACD,CAVD,EAWD,CAZD,IAYO,CACLJ,KAAK,CAAC,CACJsB,MAAM,CAAE,KADJ,CAEJC,GAAG,gDAA0CL,IAA1C,CAFC,CAAD,CAAL,CAGGM,IAHH,CAGQ,SAACC,IAAD,CAAU,CAChB;AACAC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB,EACA,GAAMxB,CAAAA,SAAS,CAAGqB,IAAI,CAACG,IAAvB,CACAF,OAAO,CAACC,GAAR,CAAYvB,SAAZ,EACAe,QAAQ,CAAChB,OAAO,CAACC,SAAD,CAAR,CAAR,CACD,CATD,EAUD,CACF,CA1BD,CA2BD,CA5BD,CA8BA,cAAeN,CAAAA,aAAa,mDAEvBG,QAFuB,CAEZ,SAAC4B,KAAD,CAAQC,MAAR,QACV/B,CAAAA,OAAO,CAAC8B,KAAD,CAAQ,SAACE,KAAD,CAAW,CACxBA,KAAK,CAACvB,IAAN,CAAasB,MAAM,CAACE,OAAP,CAAe5B,SAA5B,CAAuC;AACxC,CAFM,CADG,EAFY,iCAMvBF,QANuB,CAMZ,SAAC2B,KAAD,CAAQC,MAAR,QAAmB/B,CAAAA,OAAO,CAAC8B,KAAD,CAAQ,SAACE,KAAD,CAAW,CAAE,CAArB,CAA1B,EANY,kBAQ1BxB,YAR0B,CAA5B,CAWA,GAAM0B,CAAAA,cAAc,CAAG,CACrB9B,OAAO,CAAPA,OADqB,CAErBE,OAAO,CAAPA,OAFqB,CAGrBY,SAAS,CAATA,SAHqB,CAAvB,CAMA,OAASgB,cAAT","sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\nimport { produce } from \"immer\";\n\nimport axios from \"axios\";\n\nconst SET_POST = \"SET_POST\";\nconst ADD_POST = \"ADD_POST\";\n\nconst setPost = createAction(SET_POST, (post_list) => ({ post_list })); //리스트가져오기\nconst addPost = createAction(ADD_POST, (post) => ({ post }));\n\nconst initialState = {\n  list: [],\n};\n\nconst initialPost = {\n  id: 0,\n  title: \"실내 자전거\",\n  img:\n    \"https://dnvefa72aowie.cloudfront.net/origin/article/202104/bce02f7c25d41ea2f758c3322de4596b9768b7fc8822ed6ab1a184fd232c50ce.webp?q=82&s=300x300&t=crop\",\n  price: \"10,000원\",\n  region: \"경기도 용인시 수지구 죽전동\",\n  like: \"관심:3\",\n  chat: \"채팅:5\",\n};\n\nconst getPostDB = (text = \"\") => {\n  return function (dispatch, getState, { history }) {\n    let post_list = [];\n    if (text === \"\") {\n      axios({\n        method: \"get\",\n        url: \"http://54.180.112.53:8080/api/hot_articles\",\n      }).then((docs) => {\n        // docs=api를 가져온 값\n        console.log(docs.data);\n        const post_list = docs.data;\n        console.log(post_list);\n\n        dispatch(setPost(post_list));\n      });\n    } else {\n      axios({\n        method: \"get\",\n        url: `http://54.180.112.53:8080/api/region/${text}`,\n      }).then((docs) => {\n        // docs=api를 가져온 값\n        console.log(docs.data);\n        const post_list = docs.data;\n        console.log(post_list);\n        dispatch(setPost(post_list));\n      });\n    }\n  };\n};\n\nexport default handleActions(\n  {\n    [SET_POST]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.post_list; //콘솔 찍어보기, 병훈님께 물어보기\n      }),\n    [ADD_POST]: (state, action) => produce(state, (draft) => {}),\n  },\n  initialState\n);\n\nconst actionCreators = {\n  setPost,\n  addPost,\n  getPostDB,\n};\n\nexport { actionCreators };\n"]},"metadata":{},"sourceType":"module"}