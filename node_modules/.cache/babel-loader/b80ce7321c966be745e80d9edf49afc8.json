{"ast":null,"code":"import { createAction, handleActions } from \"redux-actions\";\nimport { produce } from \"immer\";\nimport axios from \"axios\";\nconst SET_POST = \"SET_POST\";\nconst ADD_POST = \"ADD_POST\";\nconst setPost = createAction(SET_POST, post_list => ({\n  post_list\n})); //리스트가져오기\n\nconst addPost = createAction(ADD_POST, post => ({\n  post\n}));\nconst initialState = {\n  list: []\n};\nconst initialPost = {\n  daangnProductId: \"0\",\n  title: \"실내 자전거\",\n  img: \"https://dnvefa72aowie.cloudfront.net/origin/article/202104/bce02f7c25d41ea2f758c3322de4596b9768b7fc8822ed6ab1a184fd232c50ce.webp?q=82&s=300x300&t=crop\",\n  price: \"10,000원\",\n  region: \"경기도 용인시 수지구 죽전동\",\n  like: \"관심:3\",\n  chat: \"채팅:5\"\n};\n\nconst getPostDB = (text = \"\") => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    let post_list = [];\n\n    if (text === \"\") {\n      axios({\n        method: \"get\",\n        url: \"http://54.180.112.53:8080/api/hot_articles\"\n      }).then(docs => {\n        // docs=api를 가져온 값\n        console.log(docs.data);\n        const post_list = docs.data;\n        console.log(post_list);\n        dispatch(setPost(post_list));\n      });\n    } else {\n      axios({\n        method: \"get\",\n        url: `http://54.180.112.53:8080/api/region/${text}`\n      }).then(docs => {\n        // docs=api를 가져온 값\n        console.log(docs.data);\n        const post_list = docs.data;\n        console.log(post_list);\n        dispatch(setPost(post_list));\n      });\n    }\n  };\n};\n\nconst getOnePostDB = daangnProductId => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    axios({\n      method: \"get\",\n      url: `http://54.180.112.53:8080/api/hot_articles/${daangnProductId}`\n    }).then(docs => {\n      console.log(docs);\n    });\n  };\n};\n\nexport default handleActions({\n  [SET_POST]: (state, action) => produce(state, draft => {\n    draft.list = action.payload.post_list; //콘솔 찍어보기, 병훈님께 물어보기\n  }),\n  [ADD_POST]: (state, action) => produce(state, draft => {})\n}, initialState);\nconst actionCreators = {\n  setPost,\n  addPost,\n  getPostDB,\n  getOnePostDB\n};\nexport { actionCreators };","map":{"version":3,"sources":["/Users/parkminkyung/sparta_react/daangnmarket/src/redux/modules/post.js"],"names":["createAction","handleActions","produce","axios","SET_POST","ADD_POST","setPost","post_list","addPost","post","initialState","list","initialPost","daangnProductId","title","img","price","region","like","chat","getPostDB","text","dispatch","getState","history","method","url","then","docs","console","log","data","getOnePostDB","state","action","draft","payload","actionCreators"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,eAA5C;AACA,SAASC,OAAT,QAAwB,OAAxB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,UAAjB;AACA,MAAMC,QAAQ,GAAG,UAAjB;AAEA,MAAMC,OAAO,GAAGN,YAAY,CAACI,QAAD,EAAYG,SAAD,KAAgB;AAAEA,EAAAA;AAAF,CAAhB,CAAX,CAA5B,C,CAAwE;;AACxE,MAAMC,OAAO,GAAGR,YAAY,CAACK,QAAD,EAAYI,IAAD,KAAW;AAAEA,EAAAA;AAAF,CAAX,CAAX,CAA5B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE;AADa,CAArB;AAIA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,eAAe,EAAE,GADC;AAElBC,EAAAA,KAAK,EAAE,QAFW;AAGlBC,EAAAA,GAAG,EACD,wJAJgB;AAKlBC,EAAAA,KAAK,EAAE,SALW;AAMlBC,EAAAA,MAAM,EAAE,iBANU;AAOlBC,EAAAA,IAAI,EAAE,MAPY;AAQlBC,EAAAA,IAAI,EAAE;AARY,CAApB;;AAWA,MAAMC,SAAS,GAAG,CAACC,IAAI,GAAG,EAAR,KAAe;AAC/B,SAAO,UAAUC,QAAV,EAAoBC,QAApB,EAA8B;AAAEC,IAAAA;AAAF,GAA9B,EAA2C;AAChD,QAAIjB,SAAS,GAAG,EAAhB;;AACA,QAAIc,IAAI,KAAK,EAAb,EAAiB;AACflB,MAAAA,KAAK,CAAC;AACJsB,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,GAAG,EAAE;AAFD,OAAD,CAAL,CAGGC,IAHH,CAGSC,IAAD,IAAU;AAChB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB;AACA,cAAMxB,SAAS,GAAGqB,IAAI,CAACG,IAAvB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYvB,SAAZ;AAEAe,QAAAA,QAAQ,CAAChB,OAAO,CAACC,SAAD,CAAR,CAAR;AACD,OAVD;AAWD,KAZD,MAYO;AACLJ,MAAAA,KAAK,CAAC;AACJsB,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,GAAG,EAAG,wCAAuCL,IAAK;AAF9C,OAAD,CAAL,CAGGM,IAHH,CAGSC,IAAD,IAAU;AAChB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB;AACA,cAAMxB,SAAS,GAAGqB,IAAI,CAACG,IAAvB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYvB,SAAZ;AACAe,QAAAA,QAAQ,CAAChB,OAAO,CAACC,SAAD,CAAR,CAAR;AACD,OATD;AAUD;AACF,GA1BD;AA2BD,CA5BD;;AA8BA,MAAMyB,YAAY,GAAInB,eAAD,IAAqB;AACxC,SAAO,UAAUS,QAAV,EAAoBC,QAApB,EAA8B;AAAEC,IAAAA;AAAF,GAA9B,EAA2C;AAChDrB,IAAAA,KAAK,CAAC;AACJsB,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,EAAG,8CAA6Cb,eAAgB;AAF/D,KAAD,CAAL,CAGGc,IAHH,CAGSC,IAAD,IAAU;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,KALD;AAMD,GAPD;AAQD,CATD;;AAWA,eAAe3B,aAAa,CAC1B;AACE,GAACG,QAAD,GAAY,CAAC6B,KAAD,EAAQC,MAAR,KACVhC,OAAO,CAAC+B,KAAD,EAASE,KAAD,IAAW;AACxBA,IAAAA,KAAK,CAACxB,IAAN,GAAauB,MAAM,CAACE,OAAP,CAAe7B,SAA5B,CADwB,CACe;AACxC,GAFM,CAFX;AAKE,GAACF,QAAD,GAAY,CAAC4B,KAAD,EAAQC,MAAR,KAAmBhC,OAAO,CAAC+B,KAAD,EAASE,KAAD,IAAW,CAAE,CAArB;AALxC,CAD0B,EAQ1BzB,YAR0B,CAA5B;AAWA,MAAM2B,cAAc,GAAG;AACrB/B,EAAAA,OADqB;AAErBE,EAAAA,OAFqB;AAGrBY,EAAAA,SAHqB;AAIrBY,EAAAA;AAJqB,CAAvB;AAOA,SAASK,cAAT","sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\nimport { produce } from \"immer\";\n\nimport axios from \"axios\";\n\nconst SET_POST = \"SET_POST\";\nconst ADD_POST = \"ADD_POST\";\n\nconst setPost = createAction(SET_POST, (post_list) => ({ post_list })); //리스트가져오기\nconst addPost = createAction(ADD_POST, (post) => ({ post }));\n\nconst initialState = {\n  list: [],\n};\n\nconst initialPost = {\n  daangnProductId: \"0\",\n  title: \"실내 자전거\",\n  img:\n    \"https://dnvefa72aowie.cloudfront.net/origin/article/202104/bce02f7c25d41ea2f758c3322de4596b9768b7fc8822ed6ab1a184fd232c50ce.webp?q=82&s=300x300&t=crop\",\n  price: \"10,000원\",\n  region: \"경기도 용인시 수지구 죽전동\",\n  like: \"관심:3\",\n  chat: \"채팅:5\",\n};\n\nconst getPostDB = (text = \"\") => {\n  return function (dispatch, getState, { history }) {\n    let post_list = [];\n    if (text === \"\") {\n      axios({\n        method: \"get\",\n        url: \"http://54.180.112.53:8080/api/hot_articles\",\n      }).then((docs) => {\n        // docs=api를 가져온 값\n        console.log(docs.data);\n        const post_list = docs.data;\n        console.log(post_list);\n\n        dispatch(setPost(post_list));\n      });\n    } else {\n      axios({\n        method: \"get\",\n        url: `http://54.180.112.53:8080/api/region/${text}`,\n      }).then((docs) => {\n        // docs=api를 가져온 값\n        console.log(docs.data);\n        const post_list = docs.data;\n        console.log(post_list);\n        dispatch(setPost(post_list));\n      });\n    }\n  };\n};\n\nconst getOnePostDB = (daangnProductId) => {\n  return function (dispatch, getState, { history }) {\n    axios({\n      method: \"get\",\n      url: `http://54.180.112.53:8080/api/hot_articles/${daangnProductId}`,\n    }).then((docs) => {\n      console.log(docs);\n    });\n  };\n};\n\nexport default handleActions(\n  {\n    [SET_POST]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.post_list; //콘솔 찍어보기, 병훈님께 물어보기\n      }),\n    [ADD_POST]: (state, action) => produce(state, (draft) => {}),\n  },\n  initialState\n);\n\nconst actionCreators = {\n  setPost,\n  addPost,\n  getPostDB,\n  getOnePostDB,\n};\n\nexport { actionCreators };\n"]},"metadata":{},"sourceType":"module"}